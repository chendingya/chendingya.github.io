<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="true" > 
<link href="/fontawesome/css/fontawesome.css" rel="stylesheet">
<link href="/fontawesome/css/brands.css" rel="stylesheet">
<link href="/fontawesome/css/solid.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
  
  

  
  <title>SE-II-ch10-软件体系结构设计与构建 | Asimov&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta name="description" content="10-软件体系结构设计与构建 体系结构之间的接口： 重点还有根据分配的需求确定模块的对外接口 初步设计关键类 编写接口规范(提供服务和需要服务)   根据体系结构开发继承测试用例(Stub和Driver)     1. 体系结构设计过程(简略步骤) 重要 2. 第一步:分析关键需求和项目约束 2.1. 系统结构需求 2.2. 实践案例   3. 第二步:通过选择体系结构风格 3.1. 实践案例">
<meta property="og:type" content="article">
<meta property="og:title" content="SE-II-ch10-软件体系结构设计与构建">
<meta property="og:url" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/index.html">
<meta property="og:site_name" content="Asimov&#39;s Blog">
<meta property="og:description" content="10-软件体系结构设计与构建 体系结构之间的接口： 重点还有根据分配的需求确定模块的对外接口 初步设计关键类 编写接口规范(提供服务和需要服务)   根据体系结构开发继承测试用例(Stub和Driver)     1. 体系结构设计过程(简略步骤) 重要 2. 第一步:分析关键需求和项目约束 2.1. 系统结构需求 2.2. 实践案例   3. 第二步:通过选择体系结构风格 3.1. 实践案例">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/3.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/1.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/2.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/1.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220617174855199.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/2.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/4.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/5.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/6.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/7.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/8.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/9.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/10.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/11.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/12.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/13.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/14.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/15.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/16.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/17.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/18.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/19.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220617191501128.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/21.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/22.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/23.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/24.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220424121743904.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220424121753478.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220424121802686.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/25.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/26.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/27.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/28.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/29.png">
<meta property="og:image" content="https://chendingya.github.io/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users/wbl/AppData/Roaming/Typora/typora-user-images/image-20220618191420065.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/31.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/32.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/33.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/34.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/34.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/36.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/37.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/39.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/40.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/41.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/42.png">
<meta property="og:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/43.png">
<meta property="article:published_time" content="2022-06-17T08:02:34.000Z">
<meta property="article:modified_time" content="2023-09-17T07:48:00.698Z">
<meta property="article:author" content="Asimov">
<meta property="article:tag" content="软件工程与计算II">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/3.png">
  
    <link rel="alternate" href="/atom.xml" title="Asimov's Blog" type="application/atom+xml">
  
  
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-192.png" sizes="192x192">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-192.png" sizes="192x192">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  
  
    
<div id="banner" class="">
  <img src="/pic/back.png" itemprop="image">
  <div id="banner-dim"></div>
</div>
 
   
  <div id="main-grid" class="shadow   ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>Asimov's Blog </div>
    </a>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/></svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/></svg></span>
    </a>
    
      <a id="nav-rss-link" class="nav-icon mobile-hide" href="/atom.xml" title="RSS 订阅">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M198-120q-25.846 0-44.23-18.384-18.384-18.385-18.384-44.23 0-25.846 18.384-44.23 18.384-18.385 44.23-18.385 25.846 0 44.23 18.385 18.384 18.384 18.384 44.23 0 25.845-18.384 44.23Q223.846-120 198-120Zm538.385 0q-18.846 0-32.923-13.769-14.076-13.769-15.922-33.23-8.692-100.616-51.077-188.654-42.385-88.039-109.885-155.539-67.5-67.501-155.539-109.885Q283-663.462 182.385-672.154q-19.461-1.846-33.23-16.23-13.769-14.385-13.769-33.846t14.076-32.922q14.077-13.461 32.923-12.23 120.076 8.692 226.038 58.768 105.961 50.077 185.73 129.846 79.769 79.769 129.846 185.731 50.077 105.961 58.769 226.038 1.231 18.846-12.538 32.922Q756.461-120 736.385-120Zm-252 0q-18.231 0-32.423-13.461t-18.653-33.538Q418.155-264.23 348.886-333.5q-69.27-69.27-166.501-84.423-20.077-4.462-33.538-18.961-13.461-14.5-13.461-33.346 0-19.076 13.884-33.23 13.884-14.153 33.115-10.922 136.769 15.384 234.384 112.999 97.615 97.615 112.999 234.384 3.231 19.23-10.538 33.115Q505.461-120 484.385-120Z"/></svg>
      </a>
    
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/></svg>
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">Home</a>
    
      <a class="nav-dropdown-link" href="/archives">Archives</a>
    
      <a class="nav-dropdown-link" href="/about">About</a>
    
    
      <a class="nav-dropdown-link" href="/atom.xml" title="RSS 订阅">RSS</a>
     
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
        <image src=/pic/avatar.png></image>
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">Asimov </div>
      <div class="dot"></div>
      <div class="subtitle">Asimov's Blog </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/chendingya" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

  
  <div class="sticky">
    
      


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">分类</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/hello-world/">
                hello world
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/Hexo/">
                Hexo
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                数据库
                <div class="category-count">6</div>
            </a>
        
            <a class="category-link" href="/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">
                编译原理
                <div class="category-count">13</div>
            </a>
        
            <a class="category-link" href="/categories/tdesign/">
                tdesign
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/openharmony/">
                openharmony
                <div class="category-count">12</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/">
                服务端开发
                <div class="category-count">3</div>
            </a>
        
            <a class="category-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%AE%A1%E7%AE%97II/">
                软件工程与计算II
                <div class="category-count">30</div>
            </a>
        
            <a class="category-link" href="/categories/%E9%A9%BE%E8%80%83/">
                驾考
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/leetcode/">
                leetcode
                <div class="category-count">3</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">标签</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/hello-world/" rel="tag">hello world</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/openharmony/" rel="tag">openharmony</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/tdesign/" rel="tag">tdesign</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" rel="tag">位运算</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" rel="tag">动态规划</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8/" rel="tag">双向链表</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" rel="tag">哈希表</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="tag">服务端开发</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%AE%A1%E7%AE%97II/" rel="tag">软件工程与计算II</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E9%A9%BE%E8%80%83/" rel="tag">驾考</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">归档</h3>
      
      
        <a class="archive-link" href="/archives/2023/10 ">
          十月 2023 
          <div class="archive-count">16 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/09 ">
          九月 2023 
          <div class="archive-count">4 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/07 ">
          七月 2023 
          <div class="archive-count">2 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/04 ">
          四月 2023 
          <div class="archive-count">10 </div>
        </a>
      
        <a class="archive-link" href="/archives/2023/03 ">
          三月 2023 
          <div class="archive-count">9 </div>
        </a>
      
        <a class="archive-link" href="/archives/2022/10 ">
          十月 2022 
          <div class="archive-count">1 </div>
        </a>
      
        <a class="archive-link" href="/archives/2022/06 ">
          六月 2022 
          <div class="archive-count">30 </div>
        </a>
      
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">最新文章</h3>
      <ul>
        
          <a class="recent-link" href="/2023/10/15/leetcode/leetcode%E5%88%B7%E9%A2%98-136%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97/" title="leetcode刷题-136、137只出现一次的数字" >
            <div class="recent-link-text">
              leetcode刷题-136、137只出现一次的数字
            </div>
          </a>
        
          <a class="recent-link" href="/2023/10/15/leetcode/leetcode%E5%88%B7%E9%A2%98-146.LRU%20%E7%BC%93%E5%AD%98/" title="leetcode刷题-146.LRU 缓存" >
            <div class="recent-link-text">
              leetcode刷题-146.LRU 缓存
            </div>
          </a>
        
          <a class="recent-link" href="/2023/10/15/leetcode/leetcode%E5%88%B7%E9%A2%98-198.%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/" title="leetcode刷题-198.打家劫舍" >
            <div class="recent-link-text">
              leetcode刷题-198.打家劫舍
            </div>
          </a>
        
          <a class="recent-link" href="/2023/10/04/23-%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E2%80%94UIAbility%E7%9A%84%E4%BD%BF%E7%94%A8/" title="应用程序入口—UIAbility的使用" >
            <div class="recent-link-text">
              应用程序入口—UIAbility的使用
            </div>
          </a>
        
          <a class="recent-link" href="/2023/10/04/23-%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91/Column&Row%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Column&Row组件的使用" >
            <div class="recent-link-text">
              Column&amp;Row组件的使用
            </div>
          </a>
        
      </ul>
    </div>
  </div>

    
  </div>
</sidebar>
    </div>
    <div id="content-body">
       

<article id="post-SE-II笔记/10-软件体系结构设计与构建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
    
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        SE-II-ch10-软件体系结构设计与构建
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2022-06-17T08:02:34.000Z" itemprop="datePublished">2022-06-17</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%AE%A1%E7%AE%97II/">软件工程与计算II</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            9.7k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%AE%A1%E7%AE%97II/" rel="tag">软件工程与计算II</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <h2 id="10-软件体系结构设计与构建"><a href="#10-软件体系结构设计与构建" class="headerlink" title="10-软件体系结构设计与构建"></a>10-软件体系结构设计与构建</h2><ol>
<li>体系结构之间的接口：<ol>
<li>重点还有根据分配的需求确定模块的对外接口</li>
<li>初步设计关键类</li>
<li>编写接口规范(提供服务和需要服务)</li>
</ol>
</li>
<li>根据体系结构开发继承测试用例(Stub和Driver)</li>
</ol>
<!-- TOC -->

<ul>
<li><a href="#1-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E8%BF%87%E7%A8%8B%E7%AE%80%E7%95%A5%E6%AD%A5%E9%AA%A4-%E9%87%8D%E8%A6%81">1. 体系结构设计过程(简略步骤) 重要</a></li>
<li><a href="#2-%E7%AC%AC%E4%B8%80%E6%AD%A5%E5%88%86%E6%9E%90%E5%85%B3%E9%94%AE%E9%9C%80%E6%B1%82%E5%92%8C%E9%A1%B9%E7%9B%AE%E7%BA%A6%E6%9D%9F">2. 第一步:分析关键需求和项目约束</a><ul>
<li><a href="#21-%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E9%9C%80%E6%B1%82">2.1. 系统结构需求</a></li>
<li><a href="#22-%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B">2.2. 实践案例</a></li>
</ul>
</li>
<li><a href="#3-%E7%AC%AC%E4%BA%8C%E6%AD%A5%E9%80%9A%E8%BF%87%E9%80%89%E6%8B%A9%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E9%A3%8E%E6%A0%BC">3. 第二步:通过选择体系结构风格</a><ul>
<li><a href="#31-%E5%AE%9E%E8%B7%B5%E6%A1%88%E4%BE%8B">3.1. 实践案例</a></li>
</ul>
</li>
<li><a href="#4-%E7%AC%AC%E4%B8%89%E6%AD%A5%E8%BF%9B%E8%A1%8C%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E9%80%BB%E8%BE%91%E6%8A%BD%E8%B1%A1%E8%AE%BE%E8%AE%A1">4. 第三步:进行软件体系结构逻辑(抽象)设计</a><ul>
<li><a href="#41-%E4%BE%9D%E6%8D%AE%E6%A6%82%E8%A6%81%E5%8A%9F%E8%83%BD%E9%9C%80%E6%B1%82%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E9%A3%8E%E6%A0%BC%E5%BB%BA%E7%AB%8B%E5%88%9D%E5%A7%8B%E8%AE%BE%E8%AE%A1">4.1. 依据概要功能需求与体系结构风格建立初始设计</a></li>
<li><a href="#42-%E4%BD%BF%E7%94%A8%E9%9D%9E%E5%8A%9F%E8%83%BD%E6%80%A7%E9%9C%80%E6%B1%82%E4%B8%8E%E9%A1%B9%E7%9B%AE%E7%BA%A6%E6%9D%9F%E8%AF%84%E4%BB%B7%E5%92%8C%E6%94%B9%E8%BF%9B%E5%88%9D%E5%A7%8B%E8%AE%BE%E8%AE%A1">4.2. 使用非功能性需求与项目约束评价和改进初始设计</a><ul>
<li><a href="#421-%E5%88%9D%E6%AD%A5%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%88%86%E6%9E%90">4.2.1. 初步设计的分析</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#5-package-design-principles-%E5%8C%85%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99">5. Package Design Principles 包设计原则</a><ul>
<li><a href="#51-common-closure-principle-ccp-%E5%85%B1%E5%90%8C%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99">5.1. Common Closure Principle (CCP) 共同封闭原则</a></li>
<li><a href="#52-common-reuse-principle-crp-%E5%85%B1%E5%90%8C%E9%87%8D%E7%94%A8%E5%8E%9F%E5%88%99">5.2. Common Reuse Principle (CRP) 共同重用原则</a></li>
<li><a href="#53-%E5%85%B1%E5%90%8C%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99%E5%92%8C%E5%85%B1%E5%90%8C%E9%87%8D%E7%94%A8%E7%9A%84%E5%8E%9F%E5%88%99%E7%9A%84%E6%8A%98%E8%A1%B7">5.3. 共同封闭原则和共同重用的原则的折衷</a></li>
<li><a href="#54-reuse-release-equivalency-principle-rep-%E9%87%8D%E7%94%A8%E5%8F%91%E5%B8%83%E7%AD%89%E4%BB%B7%E5%8E%9F%E5%88%99">5.4. Reuse-Release Equivalency Principle (REP) 重用发布等价原则</a></li>
<li><a href="#55-the-acyclic-dependencies-principle-adp-%E6%97%A0%E7%8E%AF%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99">5.5. The Acyclic Dependencies Principle (ADP) 无环依赖原则</a><ul>
<li><a href="#551-dependencies-are-a-dag">5.5.1. Dependencies are a DAG</a></li>
<li><a href="#552-%E4%BE%9D%E8%B5%96%E5%BE%AA%E7%8E%AF%E6%89%93%E7%A0%B4%E5%BE%AA%E7%8E%AF%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F">5.5.2. 依赖循环打破循环：第一种方式：</a></li>
<li><a href="#553-%E4%BE%9D%E8%B5%96%E5%BE%AA%E7%8E%AF%E6%89%93%E7%A0%B4%E5%BE%AA%E7%8E%AF%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F">5.5.3. 依赖循环打破循环：第二种方式：</a></li>
<li><a href="#554-%E6%97%A0%E7%8E%AF%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">5.5.4. 无环依赖原则的应用场景</a></li>
</ul>
</li>
<li><a href="#56-stable-dependencies-principle-sdp-%E7%A8%B3%E5%AE%9A%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99">5.6. Stable Dependencies Principle (SDP) 稳定依赖原则</a><ul>
<li><a href="#561-%E7%A8%B3%E5%AE%9A%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99">5.6.1. 稳定依赖原则</a></li>
</ul>
</li>
<li><a href="#57-%E5%8C%85%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%BA%A6%E9%87%8F">5.7. 包的稳定性度量</a></li>
<li><a href="#58-stable-abstractions-principle-sap-%E7%A8%B3%E5%AE%9A%E6%8A%BD%E8%B1%A1%E5%8E%9F%E5%88%99">5.8. Stable Abstractions Principle (SAP) 稳定抽象原则</a><ul>
<li><a href="#581-%E6%8A%BD%E8%B1%A1%E6%80%A7%E5%BA%A6%E9%87%8F">5.8.1. 抽象性度量</a></li>
<li><a href="#582-%E4%BE%8B%E5%AD%90">5.8.2. 例子</a></li>
</ul>
</li>
<li><a href="#59-%E5%8C%85%E8%AE%BE%E8%AE%A1%E7%9A%84%E8%BF%87%E7%A8%8B">5.9. 包设计的过程</a></li>
</ul>
</li>
<li><a href="#6-%E7%AC%AC%E5%9B%9B%E6%AD%A5%E4%BE%9D%E8%B5%96%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1%E8%BF%9B%E8%A1%8C%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%AE%9E%E7%8E%B0%E8%AE%BE%E8%AE%A1">6. 第四步:依赖逻辑设计进行软件体系结构(实现)设计；</a><ul>
<li><a href="#61-%E5%88%9D%E5%A7%8B%E7%89%A9%E7%90%86%E5%8C%85">6.1. 初始物理包</a></li>
<li><a href="#62-%E7%BB%86%E8%8A%82%E8%80%83%E8%99%91">6.2. 细节考虑</a></li>
<li><a href="#63-%E8%BF%9E%E9%94%81%E8%B6%85%E5%B8%82%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE">6.3. 连锁超市管理系统开发包图</a></li>
<li><a href="#64-%E8%BF%9B%E7%A8%8B%E5%9B%BE">6.4. 进程图</a></li>
<li><a href="#65-%E9%83%A8%E7%BD%B2%E5%9B%BE">6.5. 部署图</a></li>
</ul>
</li>
<li><a href="#7-%E7%AC%AC%E4%BA%94%E6%AD%A5%E5%AE%8C%E5%96%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">7. 第五步:完善体系结构设计</a><ul>
<li><a href="#71-%E5%AE%8C%E5%96%84%E5%90%AF%E5%8A%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E9%93%BE%E6%8E%A5">7.1. 完善启动和网络链接</a></li>
<li><a href="#72-%E7%BB%86%E5%8C%96salesbl%E6%A8%A1%E5%9D%97">7.2. 细化salesbl模块</a></li>
<li><a href="#73-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89">7.3. 数据定义</a><ul>
<li><a href="#731-java-%E5%AE%9E%E4%BD%93">7.3.1. Java 实体</a></li>
<li><a href="#732-pojoplain-old-java-objects-simple-java-entities">7.3.2. POJO(Plain Old Java Objects)&#x3D; Simple Java Entities</a></li>
<li><a href="#733-value-objects%E9%80%BB%E8%BE%91%E5%B1%82%E5%90%91%E5%B1%95%E7%A4%BA%E5%B1%82%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE">7.3.3. Value Objects(逻辑层向展示层传递数据)</a></li>
<li><a href="#734-%E5%9B%BE%E4%B9%A6%E5%9C%B0%E5%9D%80%E4%B8%9A%E5%8A%A1%E5%AE%9E%E4%BD%93">7.3.4. 图书地址业务实体</a></li>
</ul>
</li>
<li><a href="#74-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5">7.4. 项目实践</a></li>
<li><a href="#75-%E6%8C%81%E4%B9%85%E5%8C%96%E5%AF%B9%E8%B1%A1-userpo%E7%9A%84%E7%BB%86%E5%8C%96">7.5. 持久化对象 UserPO的细化</a></li>
</ul>
</li>
<li><a href="#8-%E7%AC%AC%E5%85%AD%E6%AD%A5%E6%B7%BB%E5%8A%A0%E6%9E%84%E4%BB%B6%E6%8E%A5%E5%8F%A3">8. 第六步:添加构件接口</a><ul>
<li><a href="#81-%E6%9E%84%E4%BB%B6%E5%88%9D%E6%AD%A5%E8%AE%BE%E8%AE%A1">8.1. 构件初步设计</a></li>
<li><a href="#82-%E7%A1%AE%E5%AE%9A%E6%A8%A1%E5%9D%97%E5%AF%B9%E5%A4%96%E6%8E%A5">8.2. 确定模块对外接⼝</a></li>
<li><a href="#83-%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3%E8%A7%84%E8%8C%83">8.3. 编写接口规范</a></li>
</ul>
</li>
<li><a href="#9-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%9E%84%E5%BB%BA">9. 体系结构的原型构建</a><ul>
<li><a href="#91-%E5%8C%85%E7%9A%84%E5%88%9B%E5%BB%BA">9.1. 包的创建</a></li>
<li><a href="#92-%E9%87%8D%E8%A6%81%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%9B%E5%BB%BA">9.2. 重要文件的创建</a><ul>
<li><a href="#921-%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8">9.2.1. 文件列表</a></li>
</ul>
</li>
<li><a href="#93-%E5%AE%9A%E4%B9%89%E6%9E%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8E%A5%E5%8F%A3">9.3. 定义构件之间的接口</a></li>
<li><a href="#94-%E5%85%B3%E9%94%AE%E9%9C%80%E6%B1%82%E7%9A%84%E5%AE%9E%E7%8E%B0">9.4. 关键需求的实现</a></li>
</ul>
</li>
<li><a href="#10-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E9%9B%86%E6%88%90%E4%B8%8E%E6%B5%8B%E8%AF%95">10. 体系结构集成与测试</a><ul>
<li><a href="#101-%E9%9B%86%E6%88%90%E7%9A%84%E7%AD%96%E7%95%A5">10.1. 集成的策略</a><ul>
<li><a href="#1011-%E5%A4%A7%E7%88%86%E7%82%B8%E9%9B%86%E6%88%90">10.1.1. 大爆炸集成</a></li>
<li><a href="#1012-%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E9%9B%86%E6%88%90">10.1.2. 自顶向下集成</a></li>
<li><a href="#1013-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E9%9B%86%E6%88%90">10.1.3. 自底向上集成</a></li>
<li><a href="#1014-%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90">10.1.4. 持续集成</a></li>
</ul>
</li>
<li><a href="#102-%E4%BE%9D%E6%8D%AE%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3%E5%BB%BA%E7%AB%8B%E6%A1%A9%E7%A8%8B%E5%BA%8Fstub">10.2. 依据模块接口建立桩程序Stub</a></li>
<li><a href="#103-%E9%9B%86%E6%88%90%E4%B8%8E%E6%9E%84%E5%BB%BA">10.3. 集成与构建</a></li>
<li><a href="#104-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5">10.4. 项目实践</a></li>
</ul>
</li>
<li><a href="#11-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3%E5%8C%96">11. 体系结构文档化</a><ul>
<li><a href="#111-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3%E6%A8%A1%E7%89%88-ieee1471-2000">11.1. 体系结构设计文档模版 IEEE1471-2000</a></li>
</ul>
</li>
<li><a href="#12-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%84%E5%AE%A1">12. 体系结构评审</a><ul>
<li><a href="#121-%E8%AF%84%E5%AE%A1%E7%9A%84%E8%A7%92%E5%BA%A6">12.1. 评审的角度</a></li>
<li><a href="#122-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%84%E5%AE%A1%E7%9A%84%E6%96%B9%E6%B3%95">12.2. 体系结构评审的方法</a></li>
<li><a href="#123-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3%E7%9A%84checklist">12.3. 软件体系结构设计文档的Checklist</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->

<h1 id="1-体系结构设计过程-简略步骤-重要"><a href="#1-体系结构设计过程-简略步骤-重要" class="headerlink" title="1. 体系结构设计过程(简略步骤) 重要"></a>1. 体系结构设计过程(简略步骤) 重要</h1><ol>
<li>分析关键需求和项目约束：分析用例文档和需求规格说明书(包含需求规格和项目约束)。注意既要考虑功能性需求，又要考虑非功能性需求，甚至很大意义上体系结构设计是为了满足非功能性需求【质量属性】。</li>
<li>通过选择体系结构风格：选择分层风格(信息系统、并行开发、非web应用)，进行评审。</li>
<li>进⾏软件体系结构逻辑(抽象)设计：产生逻辑包图</li>
<li>依赖逻辑设计进行软件体系结构(实现)设计：产生物理包图&#x2F;开发包图</li>
<li>完善体系结构设计：关键类图，持久化数据格式的定义等</li>
<li>添加构件接口：包、重要文件的创建，定义接口</li>
<li>迭代过程3-6<blockquote>
<ol>
<li>步骤1-3是逻辑设计，步骤4-7是物理设计</li>
<li>本文接下来的部分将要按照这个思路进行下去</li>
</ol>
</blockquote>
</li>
</ol>
<h1 id="2-第一步-分析关键需求和项目约束"><a href="#2-第一步-分析关键需求和项目约束" class="headerlink" title="2. 第一步:分析关键需求和项目约束"></a>2. 第一步:分析关键需求和项目约束</h1><ol>
<li>一般来说，体系结构设计的输入要素主要由两个来源：<ol>
<li>软件需求规格说明</li>
<li>项目约束</li>
</ol>
</li>
<li>体系结构设计必须落实所有的功能性需求和非功能性需求</li>
</ol>
<h2 id="2-1-系统结构需求"><a href="#2-1-系统结构需求" class="headerlink" title="2.1. 系统结构需求"></a>2.1. 系统结构需求</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/3.png"></p>
<h2 id="2-2-实践案例"><a href="#2-2-实践案例" class="headerlink" title="2.2. 实践案例"></a>2.2. 实践案例</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/1.png"></p>
<ol>
<li>需求<ul>
<li>a 概要功能需求:10 个功能 </li>
<li>b 非功能性需求<ul>
<li>安全需求:Security1~3 </li>
<li>约束:IC2</li>
</ul>
</li>
</ul>
</li>
<li>项目约束<ul>
<li>a 开发技术:Java </li>
<li>b 时间较为紧张 </li>
<li>c 开发人员:不熟悉 Web 技术</li>
</ul>
</li>
</ol>
<h1 id="3-第二步-通过选择体系结构风格"><a href="#3-第二步-通过选择体系结构风格" class="headerlink" title="3. 第二步:通过选择体系结构风格"></a>3. 第二步:通过选择体系结构风格</h1><p><a target="_blank" rel="noopener" href="https://www.bbsmax.com/A/l1dyoDW6Je/">Web开发的分层结构与MVC模式 (bbsmax.com)</a></p>
<h2 id="3-1-实践案例"><a href="#3-1-实践案例" class="headerlink" title="3.1. 实践案例"></a>3.1. 实践案例</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/2.png"></p>
<ol>
<li>分层风格<ol>
<li>协议不变情况下易于修改</li>
<li>能够促进并行开发:只需要界定好层与层之间的接口</li>
</ol>
</li>
</ol>
<h1 id="4-第三步-进行软件体系结构逻辑-抽象-设计"><a href="#4-第三步-进行软件体系结构逻辑-抽象-设计" class="headerlink" title="4. 第三步:进行软件体系结构逻辑(抽象)设计"></a>4. 第三步:进行软件体系结构逻辑(抽象)设计</h1><p>逻辑设计的目的是建立能够满足概要功能需求、质量需求和项目约束的软件体系结构逻辑设计</p>
<h2 id="4-1-依据概要功能需求与体系结构风格建立初始设计"><a href="#4-1-依据概要功能需求与体系结构风格建立初始设计" class="headerlink" title="4.1. 依据概要功能需求与体系结构风格建立初始设计"></a>4.1. 依据概要功能需求与体系结构风格建立初始设计</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/1.png"></p>
<ol>
<li>将需求分配到子系统和模块<ol>
<li>考虑功能的相同性：不同任务，但是相同功能</li>
<li>考虑可复用性：结构、数据、行为的可复用性</li>
</ol>
</li>
<li><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220617174855199.png" alt="image-20220617174855199"></li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/2.png" style="zoom: 67%;">

<ol start="4">
<li><p>销售是否只用到Sale的数据：显然不是，即一个模块内的信息可能在多个模块中会重复的出现，软件设计的结果中不能将相同的信息或行为同时分布在多个地方，所以对上述的信息或行为相同的情况，<strong>可以将信息或行为放在一个模块中，让其他的模块依赖于该模块即可</strong></p>
<p>下图中的显示部分用UI后缀，持久层用Data后缀(指包名)</p>
</li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/4.png" style="zoom:80%;">

<ol start="5">
<li>连锁超市管理系统的改进概要功能设计，应该将<strong>需要的信息补充上</strong></li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/5.png" style="zoom: 67%;">

<ol start="6">
<li><p>初步设计方案一:</p>
<p>层与层之间的交互很复杂</p>
</li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/6.png" style="zoom:67%;">

<ol start="7">
<li>初步设计方案二:<ol>
<li><p>层与层之间就是一一对应了。</p>
</li>
<li><p>逻辑层对象进行一一交互，只要互相对应的进行通知即可。</p>
<p>将交互放在了组内，<strong>组间的交互一定比组内交互要麻烦困难</strong></p>
</li>
<li><p>进一步将业务层的功能进行切割划分</p>
</li>
</ol>
</li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/7.png" style="zoom:67%;">

<h2 id="4-2-使用非功能性需求与项目约束评价和改进初始设计"><a href="#4-2-使用非功能性需求与项目约束评价和改进初始设计" class="headerlink" title="4.2. 使用非功能性需求与项目约束评价和改进初始设计"></a>4.2. 使用非功能性需求与项目约束评价和改进初始设计</h2><h3 id="4-2-1-初步设计的分析"><a href="#4-2-1-初步设计的分析" class="headerlink" title="4.2.1. 初步设计的分析"></a>4.2.1. 初步设计的分析</h3><ol>
<li>能够满足项目约束:<ol>
<li>分层风格能<strong>促进并行开发</strong>,从⽽缩短开发时间;</li>
<li>分层风格<strong>可以使⽤ Java 技术</strong>,⽽不使⽤ Web 技术。</li>
</ol>
</li>
<li>无法满足安全需求(Security1~3)和网络分布约束(IC2),所以需要改进:<ol>
<li>为使其满足安全需求,可以增加<strong>用户登录与验证功能</strong>,可以建立专门的三个模块 (Presentation、Logic、 Data),也可以将该功能并⼊⽤户管理功能,即为 userui, user, userdata 三个模块增加新的职责。</li>
<li>为满足<strong>网络分布约束</strong>,需要将模块分布到<strong>客户端和服务器</strong>组成的网络上。</li>
<li>可以将 Prensentation 层模块部署在客户端,将 Logic 层和 Data 层的模块部署在服务器端。[瘦客户端]</li>
<li>也可将 Prensentation 层和 Logic 层模块部署在客户端,将 Data 层的模块部署在服务器端。[胖客户端]</li>
<li><strong>⼀旦相邻两层被部署到网络两端</strong>,那么它们之间的交互就⽆法通过程序调⽤来完成,可以考虑<strong>将简单的程序调⽤转化为远程⽅法调⽤ RMI(Remote Methods Invocation)或者HTTP</strong>。</li>
</ol>
</li>
<li>连锁超市管理系统最终的软件体系结构逻辑设计⽅案</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/8.png"></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/9.png"></p>
<h1 id="5-Package-Design-Principles-包设计原则-带英文关键"><a href="#5-Package-Design-Principles-包设计原则-带英文关键" class="headerlink" title="5. Package Design Principles 包设计原则(带英文关键)"></a>5. Package Design Principles 包设计原则(带英文关键)</h1><ol>
<li>重用发布等价原则(REP):重用的粒度就是发布的粒度</li>
<li>共同封闭原则(CCP): 包中所有类对于同一类性质的变化应该是共同封闭的，一个变化若对一个包产生影响，则对该包中的所有类产生影响，而对于其他包不造成任何影响。</li>
<li>共同重用原理(CRP):一个包中的所有类应该是能够共同重用的。</li>
<li>无环依赖原则(ADP):在包的依赖关系图中不能存在环。</li>
<li>稳定依赖原则(SDP):朝着稳定的方向进行依赖</li>
<li>稳定抽象原则(SAP):包的抽象程度应该和其稳定程度一致</li>
<li>前三条描述的是依赖性，后三条描述的是耦合性</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/10.png"></p>
<h2 id="5-1-Common-Closure-Principle-CCP-共同封闭原则"><a href="#5-1-Common-Closure-Principle-CCP-共同封闭原则" class="headerlink" title="5.1. Common Closure Principle (CCP) 共同封闭原则"></a>5.1. Common Closure Principle (CCP) 共同封闭原则</h2><ol>
<li><strong>一起修改的类应该放在一起</strong> <strong>class which change together belong together</strong> </li>
<li>最小化修改对程序员的影响</li>
<li>当需要更改时，对程序员有利</li>
<li>如果更改由于编译和链接时间以及重新验证而影响了尽可能少的软件包</li>
<li>示例</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/11.png"></p>
<ol start="6">
<li>总结<ol>
<li>将具有相似闭包的类分组</li>
<li><strong>面向可以预期</strong>的变更封闭包</li>
<li>将<strong>更改限制为几个软件包</strong>，这样会使得软件包的合并，得到<strong>更大的包</strong>[比如要修改的全部可以放在一个包中]</li>
<li>降低包装释放频率</li>
<li>减少程序员的工作量</li>
<li><strong>只对可预测的变更有作用</strong>，不可预测的变更会为系统带来极大的破坏能力，并且无法进行预测。</li>
</ol>
</li>
</ol>
<h2 id="5-2-Common-Reuse-Principle-CRP-共同重用原则"><a href="#5-2-Common-Reuse-Principle-CRP-共同重用原则" class="headerlink" title="5.2. Common Reuse Principle (CRP) 共同重用原则"></a>5.2. Common Reuse Principle (CRP) 共同重用原则</h2><ol>
<li><strong>一起被重用的应该在一起</strong> <strong>class in packages should be reused together</strong>[如数学运算的函数应该一起放在一个math包]</li>
<li>包应重点突出，用户应使用包中的所有类</li>
<li>总结<ol>
<li><p>根据常见重用对类进行分组：避免给用户不必要的依赖</p>
<p>（即包中包含不是经常用到的功能，但其他功能常用，那么不合适，导致对不常用功能造成依赖）因此会导致下面2.</p>
</li>
<li><p>遵循CRP通常会导致<strong>软件包拆分</strong>：<strong>获得更多，更小，更专注的包</strong></p>
</li>
<li><p>减少重新使用者的工作</p>
</li>
</ol>
</li>
</ol>
<h2 id="5-3-共同封闭原则和共同重用的原则的折衷"><a href="#5-3-共同封闭原则和共同重用的原则的折衷" class="headerlink" title="5.3. 共同封闭原则和共同重用的原则的折衷"></a>5.3. 共同封闭原则和共同重用的原则的折衷</h2><ol>
<li>CCP和CRP原则是<strong>互斥</strong>的，即不能同时满足它们。</li>
<li><strong>CRP使重用者的生活更加轻松，而CCP使维护者的生活更加轻松。</strong></li>
<li>CCP致力于使包装尽可能大，而CRP则尝试使包装很小。</li>
<li>在<strong>项目的早期</strong>，架构师可以设置包结构，<strong>使CCP占主导地位</strong>，并协助开发和维护。后来，随着<strong>体系结构的稳定</strong>，架构师可以<strong>重构</strong>程序包结构，以使<strong>外部重用程序的CRP最大化</strong>。</li>
<li>也就是说在软件开发的<strong>不同阶段</strong>CCP和CRP的重视重用程度时<strong>不同</strong>的，要根据项目进展来进行不同程度的学习。</li>
</ol>
<h2 id="5-4-Reuse-Release-Equivalency-Principle-REP-重用发布等价原则"><a href="#5-4-Reuse-Release-Equivalency-Principle-REP-重用发布等价原则" class="headerlink" title="5.4. Reuse-Release Equivalency Principle (REP) 重用发布等价原则"></a>5.4. Reuse-Release Equivalency Principle (REP) 重用发布等价原则</h2><ol>
<li><p><strong>重用的单位是发布单位</strong> <strong>the unit of reuse is unit of release</strong></p>
<p>[比如加减乘除，加法已经第三个版本了，但减法仍然是第二个版本，那么两者可能不能通用，发布后使用起来会有问题]</p>
</li>
<li><p>是关于重用软件的</p>
</li>
<li><p>可重用软件是外部软件，您可以使用它，但其他人可以维护它。</p>
</li>
<li><p>商业和非商业外部软件之间的重用没有区别。</p>
</li>
<li><p>例子</p>
</li>
</ol>
<img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/12.png" style="zoom:67%;">

<ol start="6">
<li>总结<ol>
<li>为重用器分组组件(类)</li>
<li><strong>单个类通常是不可重用的：几个协作类组成一个包</strong></li>
<li>包中的类应构成可重用和可发布的模块：模块提供一致的功能</li>
<li>减少重新使用者的工作</li>
<li>和<strong>相关联的类一起发布</strong>，而不是单独进行发布</li>
</ol>
</li>
</ol>
<h2 id="5-5-The-Acyclic-Dependencies-Principle-ADP-无环依赖原则"><a href="#5-5-The-Acyclic-Dependencies-Principle-ADP-无环依赖原则" class="headerlink" title="5.5. The Acyclic Dependencies Principle (ADP) 无环依赖原则"></a>5.5. The Acyclic Dependencies Principle (ADP) 无环依赖原则</h2><ol>
<li><strong>程序包的依赖关系结构必须是有向无环图(DAG)</strong> <strong>the dependency structure for packages must be a Directed Acyclic Graph</strong></li>
<li>稳定并分批发布项目</li>
<li>以自上而下的层次结构组织程序包依赖关系</li>
<li><strong>一旦形成环就可能会形成无限的修改</strong>(环中的包的修改会导致大量的修改的发生)</li>
</ol>
<h3 id="5-5-1-Dependencies-are-a-DAG"><a href="#5-5-1-Dependencies-are-a-DAG" class="headerlink" title="5.5.1. Dependencies are a DAG"></a>5.5.1. Dependencies are a DAG</h3><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/13.png" style="zoom:67%;">

<ol>
<li>左侧这个树就形成了环状结构</li>
</ol>
<h3 id="5-5-2-依赖循环打破循环：第一种方式："><a href="#5-5-2-依赖循环打破循环：第一种方式：" class="headerlink" title="5.5.2. 依赖循环打破循环：第一种方式："></a>5.5.2. 依赖循环打破循环：第一种方式：</h3><ol>
<li>这种情况是<strong>单向依赖产生的闭环</strong></li>
<li>一种解决方案:<strong>将Common error依赖的一个GUI中的一个包从GUI中抽取出来</strong>，如MessageManager 这样GUI依赖于MM，common error 也依赖于MM，就可以避免循环依赖的出现了。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/14.png"></p>
<h3 id="5-5-3-依赖循环打破循环：第二种方式："><a href="#5-5-3-依赖循环打破循环：第二种方式：" class="headerlink" title="5.5.3. 依赖循环打破循环：第二种方式："></a>5.5.3. 依赖循环打破循环：第二种方式：</h3><ol>
<li>另一情况，这种情况是<strong>互相依赖产生的闭环</strong>，A依赖于X,Y依赖于B。左边包发生更改，右边包一定要改，而因为右边包发生更改，那么左边包仍然要改，无限循环。<em>【注意不能以为只是改了一个X或者Y，包内的内容是有联系的，根据CCP，X改了，Y可能也变更】</em></li>
<li>:star:解决方案:<strong>从Y提供一个接口，这个接口被B实现，Y依赖于这个接口</strong>。在Y中只会在BY b &#x3D; new B();时出现B，其他的时候一定都是BY，因此这不是完全的不依赖，而是一种弱的依赖。<strong>因此出现spring中的依赖注入，通过autowired，在Y中完全不需要出现B，也就不存在依赖了，创建B的过程都与Y无关，而是交给spring去做</strong><ol>
<li><strong>B实现BY</strong>：<font color="red"><em>思考方式：在B中会出现BY，但BY中不会出现B</em></font>，<strong>因此是B依赖于BY</strong></li>
<li>所以通过修改使得B依赖于BY，<strong>左边依赖于右边了</strong>，<strong>左边发生更改，右边不需要做任何更改</strong>（B发生任何改变，只要他实现了BY接口，<strong>那么Y都不需要更改</strong>）</li>
</ol>
</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/15.png"></p>
<h3 id="5-5-4-无环依赖原则的应用场景"><a href="#5-5-4-无环依赖原则的应用场景" class="headerlink" title="5.5.4. 无环依赖原则的应用场景"></a>5.5.4. 无环依赖原则的应用场景</h3><ol>
<li>层次式风格和主程序&#x2F;子程序风格通常不会产生</li>
<li>⾯向对象式风格<strong>尤其</strong>要注意</li>
<li>C&#x2F;S的MVC风格可能会发⽣</li>
<li>基于数据流、事件&#x2F;消息、数据共享进行交互的体系结构风格通常不会发⽣</li>
</ol>
<h2 id="5-6-Stable-Dependencies-Principle-SDP-稳定依赖原则"><a href="#5-6-Stable-Dependencies-Principle-SDP-稳定依赖原则" class="headerlink" title="5.6. Stable Dependencies Principle (SDP) 稳定依赖原则"></a>5.6. Stable Dependencies Principle (SDP) 稳定依赖原则</h2><ol>
<li><strong>依赖应当指向一个稳定的方向(更改他所需要付出努力)</strong> <strong>dependencies should point in the direction of stability</strong></li>
<li>稳定性：对应于更换包装所需的时间</li>
<li>稳定的软件包：项目内难以更改</li>
<li>稳定性可以量化</li>
</ol>
<h3 id="5-6-1-example"><a href="#5-6-1-example" class="headerlink" title="5.6.1. example"></a>5.6.1. example</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/16.png"></p>
<ol>
<li>为什么X是稳定的，而Y是不稳定的(对于x，别人变化不会影响到x)</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/17.png"></p>
<h3 id="5-6-2-包的稳定性度量"><a href="#5-6-2-包的稳定性度量" class="headerlink" title="5.6.2. 包的稳定性度量"></a>5.6.2. 包的稳定性度量</h3><ol>
<li>一种方法是<strong>计算进、出该包的依赖关系的数目</strong>。可以使用这些数值来计算该包的位置稳定性(positional stability)。</li>
<li>(Ca)输入耦合度(Aﬀerent Coupling)：指处于该包的外部并依赖于该包内的类的类的数⽬。</li>
<li>(Ce)输出耦合度(Eﬀerent Coupling)：指处于该包的内部并依赖于该包外的类的类的数⽬。</li>
<li><strong>(不稳定性I)I &#x3D; Ce &#x2F; (Ca + Ce)</strong></li>
<li>该度量的取值范围是[0,1]。I&#x3D;0表示该包具有<strong>大的稳定性</strong>。I&#x3D;1表示该包具有<strong>大的不稳定性</strong>。通过计算和⼀个包内的类有依赖关系的包外的类的数⽬，就可以计算出实体 Ca 和 Ce 。</li>
<li>当⼀个包的I度量值为1时，就意味着没有任何其他的包依赖于该包(Ca &#x3D; 0)；⽽该包却依赖于其他的包(Ce&gt;0)。这是⼀个包不稳定的状态：它是不承担责任且有依赖性的。<strong>因为没有包依赖于它，所以它就没有不改变理由，而它所依赖的包会给它提供丰富的更改理由。</strong></li>
<li>另⼀方面，当⼀个包的I度量值为0时，就意味着其他包会依赖于该包(Ca &gt; 0)，但是该包却不依赖于任何其他的包(Ce &#x3D; 0)。<strong>它是负有责任且无依赖性的。这种包达到了大程度的稳定性。它的依赖者使其难以更改，而且没有任何依赖关系会迫使它去改变</strong></li>
</ol>
<h2 id="5-7-Stable-Abstractions-Principle-SAP-稳定抽象原则"><a href="#5-7-Stable-Abstractions-Principle-SAP-稳定抽象原则" class="headerlink" title="5.7. Stable Abstractions Principle (SAP) 稳定抽象原则"></a>5.7. Stable Abstractions Principle (SAP) 稳定抽象原则</h2><ol>
<li><strong>稳定的包应该是抽象的包(接口)</strong> <strong>stable packages should be abstract packages</strong></li>
<li><strong>不稳定的包应该是具体的包</strong> <strong>unstable packages should be concrete packages</strong></li>
<li><strong>稳定的包装包含高层的设计</strong>。</li>
<li>使它们成为<strong>抽象</strong>可以<strong>对拓展开放，对修改关闭</strong>（OCP开闭原则）</li>
<li>稳定的难以更改的包装中保留了一些灵活性。</li>
</ol>
<h3 id="5-7-1-抽象性度量"><a href="#5-7-1-抽象性度量" class="headerlink" title="5.7.1. 抽象性度量"></a>5.7.1. 抽象性度量</h3><ol>
<li>包的抽象性用抽象类的数⽬和包中所有类的数目进行计算。</li>
<li>假如说包中类的总数是Nc, 抽象类的数⽬是Na,那么抽象度A &#x3D; Na &#x2F; Nc</li>
<li><strong>距离这条斜线越近，合理性越高</strong></li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/18.png"></p>
<ol>
<li>String类(Instability、Abstraction原点)</li>
<li>String类就是尴尬的处于<strong>原点</strong>的一个包，很稳定，大家都依赖String，但不抽象，导致任何对String的修改都有可能导致之前开发的java程序无法运行。</li>
</ol>
<h3 id="5-7-2-例子"><a href="#5-7-2-例子" class="headerlink" title="5.7.2. 例子"></a>5.7.2. 例子</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/19.png"></p>
<p>使用一个接口，展示层调用，逻辑层实现；使用一个接口，逻辑层调用，数据层实现【<strong>类比 spring MVC 中就是如此，层与层之间使用接口</strong>】是合理的：抽象的是稳定的，具体的是不稳定的。</p>
<p>如上面图中的则不合适</p>
<h2 id="5-8-包设计的过程"><a href="#5-8-包设计的过程" class="headerlink" title="5.8. 包设计的过程"></a>5.8. 包设计的过程</h2><ol>
<li>迭代的过程:先用 CCP 原则对把可能⼀同变化的类组织成包进⾏发布</li>
<li>随着系统的不断增⻓,我们开始关注创建可重用的元素,于是开始使⽤ CRP 和 REP 来指导包的组合。</li>
<li>后使⽤ ADP、SDP、SAP 对包图进⾏度量，去掉不好的依赖。(修改设计)</li>
</ol>
<h1 id="6-第四步-依赖逻辑设计进行软件体系结构-实现-设计；"><a href="#6-第四步-依赖逻辑设计进行软件体系结构-实现-设计；" class="headerlink" title="6. 第四步:依赖逻辑设计进行软件体系结构(实现)设计；"></a>6. 第四步:依赖逻辑设计进行软件体系结构(实现)设计；</h1><p>逻辑视角描述的是一个概念上的抽象的系统，并不是一个实实在在的物理上的系统 以，需要将软件体系结构的逻辑设计<strong>从开发（开发包、物理模块）、发布（进程）、部署（网络 部署）三个角度进行实现，建立软件体系结构的物理设计。</strong></p>
<ol>
<li>开发包(构件)设计</li>
<li>运⾏时的进程</li>
<li>物理部署</li>
</ol>
<h2 id="6-1-初始物理包"><a href="#6-1-初始物理包" class="headerlink" title="6.1. 初始物理包"></a>6.1. 初始物理包</h2><p>简单的情况下，逻辑设计中每一个包都可以转化为一个开发包</p>
<p><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220617191501128.png" alt="image-20220617191501128"></p>
<h2 id="6-2-细节考虑-重要"><a href="#6-2-细节考虑-重要" class="headerlink" title="6.2. 细节考虑(重要)"></a>6.2. 细节考虑(重要)</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/21.png"></p>
<ol>
<li>Presentation 层与 Logic 层被置于客户端,Data 层被置于服务器端,那么 Logic 层的开发包依赖于 Data 层的开发包是不可能的。<ol>
<li>可以考虑使⽤ RMI 技术,RMI 技术会将 Data 层开发包分解为置于客户端的 dataservice 接口包和置于服务器的 data 开发包。这样⼀来,Logic 层开发包依赖于 dataservice 包,dataservice 和 data 层的开发包都依赖于 RMI 类库包。</li>
</ol>
</li>
<li>所有的 Data 层开发包都需要进⾏数据持久化(例如读写数据库、读写⽂件等),所以它们会有⼀些重复代码,可以将重复代码独⽴为新的开发包然后所有的 Data 层开 发包都依赖于 databaseutility,databaseutility 会依赖于 JDBC 类库包或者 IO 类库包。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/22.png"></p>
<ol start="3">
<li>所有的 Presentation 层开发包都需要使用图形类型建立界面,都要依赖于图形界面类库包。 </li>
<li>此外,Presentation 层实现时,由 mainui 包负责整个页面之间的跳转逻辑。其它各包负责各自页面自身的功能。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/23.png"></p>
<ol start="5">
<li>在分层风格的典型设计中,不希望高层直接依赖于低层,⽽是为低层建⽴接⼝包, 实现依赖倒置原则[*程序要依赖于抽象接口，不要依赖于具体实现*](参⻅ 15.4.4), 所以应该调整为:各 Prensentatin 层开发包(<strong>调⽤</strong>)依赖于 Logic 层接⼝包 businesslogicalservice 包,Logic 层开发包(<strong>实现</strong>)依赖于 Logic 层接⼝包 businesslogicalservice 包。</li>
<li>在分层⻛格的典型设计中,Presentation 层与 Logic 层之间、Logic 层与 Data 层之间可能会传递复杂数据对象,那么相邻两层都需要使⽤数据对象声明,所以需要将数据对象声明单独独⽴为开发包**(VO 包与 PO 包)**,或者将数据对象声明放⼊接⼝包(VO 包放⼊ Logic 接⼝包,PO 包独⽴)。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/24.png"></p>
<ol start="7">
<li>开发包的循环依赖现象需要消除,对此可以使⽤依赖倒置原则将循环依赖变为单向依赖: 【<strong>即消除依赖循环的第二种情况</strong>】<ol>
<li>Sales与Commodity:将部分 Commodity类抽象接口 commodityInfoService置⼊ Sales 包, 这样 Commodity 单向依赖于 Sales(实现接⼝+调⽤)。</li>
<li>Sales 与 Member:<strong>将部分 Member 类抽象接⼝置⼊ Sales 包,这样 Member 单向依赖于 Sales(实现接⼝+调⽤)。</strong></li>
</ol>
</li>
<li>在 Logic 层中,<strong>⼀些关于初始化和业务逻辑层上下文的工作被分配到 utilitybl</strong> 包中去。</li>
</ol>
<h2 id="补充：4-1-view"><a href="#补充：4-1-view" class="headerlink" title="补充：4+1 view"></a>补充：4+1 view</h2><p><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220424121743904.png" alt="image-20220424121743904"></p>
<p><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220424121753478.png" alt="image-20220424121753478"></p>
<p><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220424121802686.png" alt="image-20220424121802686"></p>
<h2 id="6-3-连锁超市管理系统开发包图"><a href="#6-3-连锁超市管理系统开发包图" class="headerlink" title="6.3. 连锁超市管理系统开发包图"></a>6.3. 连锁超市管理系统开发包图</h2><ol>
<li>客户端</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/25.png"></p>
<ol start="2">
<li>服务器端</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/26.png"></p>
<h2 id="6-4-进程图"><a href="#6-4-进程图" class="headerlink" title="6.4. 进程图"></a>6.4. 进程图</h2><ol>
<li>进程图主要是表明运行时的进程，以及个进程间如何进行通信的。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/27.png"></p>
<h2 id="6-5-部署图"><a href="#6-5-部署图" class="headerlink" title="6.5. 部署图"></a>6.5. 部署图</h2><ol>
<li>UML部署图描述了一个运行时的<strong>物理节点</strong>，以及在这个节点上运行的软件构建的静态视图。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/28.png"></p>
<h1 id="7-第五步-完善体系结构设计"><a href="#7-第五步-完善体系结构设计" class="headerlink" title="7. 第五步:完善体系结构设计"></a>7. 第五步:完善体系结构设计</h1><ol>
<li>完善软件体系结构设计</li>
<li>细化软件体系结构设计</li>
</ol>
<h2 id="7-1-增加启动模块和网络模块（完善）"><a href="#7-1-增加启动模块和网络模块（完善）" class="headerlink" title="7.1. 增加启动模块和网络模块（完善）"></a>7.1. 增加启动模块和网络模块（完善）</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/29.png"></p>
<ol>
<li>失败业务的现场保护问题</li>
<li>网络连接断开的恢复问题</li>
<li>除了细化职责建立关键类图之后，模块传递的数据对象也需要被明确定义，因为他们是模块间接口的重要部分，必须严格、准确。</li>
</ol>
<h2 id="7-2-细化salesbl模块"><a href="#7-2-细化salesbl模块" class="headerlink" title="7.2. 细化salesbl模块"></a>7.2. 细化salesbl模块</h2><p>软件体系结构设计方案如果仅仅停留在模块的层次，不利于验证其正确性。可以适当<strong>进行软件体系结构的细化</strong>，建立<strong>能够承载模块职责</strong>的<strong>关键类</strong>。关键类建立的过程中往往能够发现软件体系结构设计时忽略的细节。</p>
<p><img src="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/10-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA/Users\wbl\AppData\Roaming\Typora\typora-user-images\image-20220618191420065.png" alt="image-20220618191420065"></p>
<h2 id="7-3-细化数据定义"><a href="#7-3-细化数据定义" class="headerlink" title="7.3. 细化数据定义"></a>7.3. 细化数据定义</h2><ol>
<li>接口的数据对象</li>
<li>关键类的重要数据结构</li>
<li>Value Object (VO)</li>
<li>Persistent Object(PO)<ol>
<li>⽤POJO实现</li>
</ol>
</li>
</ol>
<h3 id="7-3-1-Java-实体"><a href="#7-3-1-Java-实体" class="headerlink" title="7.3.1. Java 实体"></a>7.3.1. Java 实体</h3><ol>
<li>实体是一个可以代表一个临时的业务实体的对象，比如一个账单或者用户</li>
<li><strong>只是用来保存数据</strong></li>
<li><strong>没有逻辑业务方法(行为)</strong></li>
<li>实体必须在使用它们的会话或事务之间持久存在。</li>
<li>实体是存储在文件或者数据库中的</li>
<li><strong>实体是一个Beans</strong>，如VO，PO等都是实体类<ol>
<li>Simple or EJB.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>JavaBean</strong></p>
<p>JavaBean是公共Java类，但是为了编辑工具识别，需要满足至少三个条件：</p>
<ol>
<li>有一个public默认构造器（例如无参构造器,）</li>
<li>属性使用public 的get，set方法访问，也就是说设置成private，同时get，set方法与属性名的大小也需要对应。例如属性name，get方法就要写成，public String get<strong>N</strong>ame(){},N大写。</li>
<li>需要<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E5%BA%8F%E5%88%97%E5%8C%96&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:18307751%7D">序列化</a>。这个是框架，工具跨平台反映状态必须的</li>
</ol>
<p>Because these requirements are largely expressed as conventions rather than by implementing interfaces, some developers view JavaBeans as Plain Old Java Objects that follow specific naming conventions.</p>
<p><em>最近看<Think in java>,里面讲到JavaBean最初是为Java GUI的可视化编程实现的.你拖动IDE构建工具创建一个GUI 组件（如多选框）,其实是工具给你创建java类,并提供将类的属性暴露出来给你修改调整,将事件监听器暴露出来.《java 编程思想（第四版）》p823-824</Think></em></p>
<p><strong>EJB</strong></p>
<p>在企业开发中，需要可伸缩的性能和事务、安全机制，这样能保证企业系统平滑发展，而不是发展到一种规模重新更换一套软件系统。 然后有提高了协议要求，就出现了<strong>Enterprise Bean。</strong></p>
<p>EJB在javabean基础上又提了一些要求，当然更复杂了。</p>
<p><strong>POJO</strong></p>
<p>有个叫Josh MacKenzie人觉得，EJB太复杂了，完全没必要每次都用，所以发明了个POJO，POJO是普通的javabean，什么是普通，就是和EJB对应的。该名称用于强调所讨论的对象是普通 Java 对象，而不是特殊对象，尤其不是 Enterprise JavaBean</p>
<p>​      总之，区别就是，<strong>你先判断是否满足javabean的条件，然后如果再实现一些要求，满足EJB条件就是EJB，否则就是POJO【如果满足javaBean就是javaBean，否则就是POJO，当然javaBean也是POJO】。</strong></p>
<p> A JavaBean is a POJO that is serializable, has a no-argument constructor, and allows access to properties using getter and setter methods. An Enterprise JavaBean is not a single class but an entire component model ： <strong>JavaBean 是可序列化的 POJO，具有无参数构造函数，并允许使用 getter 和 setter 方法访问属性。 Enterprise JavaBean 不是一个单一的类，而是一个完整的组件模型</strong></p>
</blockquote>
<h3 id="7-3-2-POJO-Plain-Old-Java-Objects-Simple-Java-Entities"><a href="#7-3-2-POJO-Plain-Old-Java-Objects-Simple-Java-Entities" class="headerlink" title="7.3.2. POJO(Plain Old Java Objects)&#x3D; Simple Java Entities"></a>7.3.2. POJO(Plain Old Java Objects)&#x3D; Simple Java Entities</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> String fisrst;</span><br><span class="line">   <span class="keyword">private</span> String last;</span><br><span class="line">   <span class="keyword">private</span> Address address;</span><br><span class="line">   <span class="keyword">private</span> Phone phone;</span><br><span class="line">   <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123; <span class="keyword">return</span> phone; &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(Phone p)</span> &#123; phone = p; &#125;</span><br><span class="line">   <span class="comment">// etc</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-3-3-Value-Objects-逻辑层向展示层传递数据"><a href="#7-3-3-Value-Objects-逻辑层向展示层传递数据" class="headerlink" title="7.3.3. Value Objects(逻辑层向展示层传递数据)"></a>7.3.3. Value Objects(逻辑层向展示层传递数据)</h3><p>A Value Object or VO is an object such as <code>java.lang.Integer</code> that hold values (hence value objects).</p>
<blockquote>
<p>对于很多人来说，DTO 和 VO 是一回事（但 Fowler 使用 VO 来表示我们看到的其他东西）。 大多数时候，它们遵循 JavaBeans 约定，因此也是 JavaBeans。 而且都是 POJO。</p>
</blockquote>
<ol>
<li>价值对象(VO)包含一个或多个公共领域中实体的属性。</li>
<li>在层之间传递值对象，而不是实体。</li>
<li><strong>应该考虑实现Serializable</strong></li>
<li>值对象可以更新和创建实体。</li>
<li>实体可以创建价值对象。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonVO</span> <span class="keyword">extends</span> <span class="title class_">ValueObject</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> String first;</span><br><span class="line">   <span class="keyword">public</span> String last;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> addressOid;</span><br><span class="line">   <span class="keyword">public</span> String street;</span><br><span class="line">   <span class="keyword">public</span> String apartment;</span><br><span class="line">   <span class="keyword">public</span> String city;</span><br><span class="line">   <span class="keyword">public</span> String state;</span><br><span class="line">   <span class="keyword">public</span> String zip;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> phoneOid;</span><br><span class="line">   <span class="keyword">public</span> String phone;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Person per)</span> &#123; ... &#125;</span><br><span class="line">   <span class="keyword">public</span> Person <span class="title function_">makePerson</span><span class="params">()</span> &#123; ... &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="7-3-4-图书地址业务实体"><a href="#7-3-4-图书地址业务实体" class="headerlink" title="7.3.4. 图书地址业务实体"></a>7.3.4. 图书地址业务实体</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/31.png"></p>
<ol>
<li>可以是多个实体的集合</li>
</ol>
<h2 id="7-4-项目实践"><a href="#7-4-项目实践" class="headerlink" title="7.4. 项目实践"></a>7.4. 项目实践</h2><ol>
<li>VO: <strong>View层与Logic之间的数据传递</strong><ol>
<li>Customer(VIP)VO、CommodityVO、SaleLineItemVO、PaymentVO、 GiftVO…</li>
</ol>
</li>
<li>PO：<strong>Logic与Data层之间的数据传递</strong><ol>
<li>SalesPO、SaleLineItemPO、CustomerPO、CommodityPO、 PaymentPO、GiftPO…</li>
</ol>
</li>
</ol>
<h2 id="7-5-持久化对象-UserPO的细化"><a href="#7-5-持久化对象-UserPO的细化" class="headerlink" title="7.5. 持久化对象 UserPO的细化"></a>7.5. 持久化对象 UserPO的细化</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserPO</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">   <span class="type">int</span> id;</span><br><span class="line">   String name;</span><br><span class="line">   String password;</span><br><span class="line">   UserRole role;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">UserPO</span><span class="params">(<span class="type">int</span> i, String n, String p, UserRole r)</span>&#123;</span><br><span class="line">      id = i;</span><br><span class="line">      name = n;</span><br><span class="line">      password = p;</span><br><span class="line">      role = r;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name; </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getID</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> id;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> password;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> UserRole <span class="title function_">getRole</span><span class="params">()</span>&#123; </span><br><span class="line">      <span class="keyword">return</span> role;</span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="8-第六步-添加构件接口"><a href="#8-第六步-添加构件接口" class="headerlink" title="8. 第六步:添加构件接口"></a>8. 第六步:添加构件接口</h1><h2 id="8-1-构件初步设计"><a href="#8-1-构件初步设计" class="headerlink" title="8.1. 构件初步设计"></a>8.1. 构件初步设计</h2><ol>
<li>根据分配的需求确定模块对外接⼝</li>
<li>初步设计关键类</li>
<li>编写接口规范</li>
</ol>
<h2 id="8-2-确定模块对外接口"><a href="#8-2-确定模块对外接口" class="headerlink" title="8.2. 确定模块对外接口"></a>8.2. 确定模块对外接口</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/32.png"></p>
<ol>
<li>有的接口是面向业务的</li>
</ol>
<h2 id="8-3-编写接口规范"><a href="#8-3-编写接口规范" class="headerlink" title="8.3. 编写接口规范"></a>8.3. 编写接口规范</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/33.png"></p>
<ol>
<li>规范的书写</li>
</ol>
<h2 id="8-4-接口怎么定（必考根据需求写接口）"><a href="#8-4-接口怎么定（必考根据需求写接口）" class="headerlink" title="8.4. 接口怎么定（必考根据需求写接口）"></a>8.4. 接口怎么定（必考根据需求写接口）</h2><ol>
<li><p>接口来源于哪？</p>
<ul>
<li><p><strong>逻辑层接口</strong>来源于<strong>需求</strong>，根据需求规格文档&#x2F;<strong>刺激响应序列</strong>可以确定展示层要调用逻辑层什么内容。<strong>刺激是接口的输入参数，响应是接口的返回值</strong></p>
</li>
<li><p><strong>数据层接口</strong>来源于<strong>逻辑层代码</strong>，增删改查，<strong>需要什么就提供什么</strong>。不需要的就不提供（如红冲，就是不能删除，那么接口里面就不需要提供删除）</p>
<p>【<em>当然有可能业务层和逻辑层一样，即比如会员管理，业务层就只是有增删改查的业务，数据层也是这样，一个业务方法对应一个数据方法，这是简单的情况，在复杂情况时是一个业务方法使用多个数据方法</em>】</p>
</li>
</ul>
</li>
</ol>
<h1 id="9-体系结构的原型构建（以上均为设计）"><a href="#9-体系结构的原型构建（以上均为设计）" class="headerlink" title="9. 体系结构的原型构建（以上均为设计）"></a>9. 体系结构的原型构建（以上均为设计）</h1><h2 id="9-1-包的创建"><a href="#9-1-包的创建" class="headerlink" title="9.1. 包的创建"></a>9.1. 包的创建</h2><ol>
<li>包用于将系统组织成有层次结构的机制，可以根据构件的设计来创建项目的包。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/34.png"></p>
<h2 id="9-2-重要文件的创建"><a href="#9-2-重要文件的创建" class="headerlink" title="9.2. 重要文件的创建"></a>9.2. 重要文件的创建</h2><ol>
<li>可选</li>
<li>数据文件</li>
<li>系统文件</li>
<li>配置文件</li>
</ol>
<h3 id="9-2-1-文件列表"><a href="#9-2-1-文件列表" class="headerlink" title="9.2.1. 文件列表"></a>9.2.1. 文件列表</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/34.png"></p>
<ol>
<li>SalesBLService的定义<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SalesBLService</span> &#123;</span><br><span class="line">   <span class="comment">//销售界⾯得到商品和商品促销的信息</span></span><br><span class="line">   <span class="keyword">public</span> CommodityVO <span class="title function_">getCommodityByID</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">   <span class="keyword">public</span> ArrayList&lt;CommodityPromotionVO&gt;  <span class="title function_">getCommodityPromotionListByID</span><span class="params">(intcommodityID)</span>;</span><br><span class="line">   <span class="comment">//销售界⾯得到会员的信息</span></span><br><span class="line">   <span class="keyword">public</span> MemberVO <span class="title function_">getMember</span> <span class="params">()</span>;</span><br><span class="line">   <span class="comment">//销售的步骤</span></span><br><span class="line">   <span class="keyword">public</span> ResultMessage <span class="title function_">addMember</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">   <span class="keyword">public</span> ResultMessage <span class="title function_">addCommodity</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> quantity)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTotal</span><span class="params">(<span class="type">int</span> mode)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getChange</span><span class="params">(<span class="type">double</span> payment)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">endSales</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="9-3-定义构件之间的接口"><a href="#9-3-定义构件之间的接口" class="headerlink" title="9.3. 定义构件之间的接口"></a>9.3. 定义构件之间的接口</h2><ol>
<li>在包和文件定义之后，我们可以着力开始定义构件之间的接口</li>
</ol>
<h2 id="9-4-关键需求的实现"><a href="#9-4-关键需求的实现" class="headerlink" title="9.4. 关键需求的实现"></a>9.4. 关键需求的实现</h2><ol>
<li>实现一些<strong>关键</strong> <strong>功能需求</strong>。<ol>
<li>⽐如连锁超市系统中销售用例就是⼀个关键的用例。它所覆盖的面广,如果销售用例可以实现的话,其它⽤例的实现就⽐较有信⼼了。⽽且这个需求需要做到端到端的实现。</li>
<li>⽐如,连锁超市系统中存在客户端和服务器端。那么我们就需要在客户端通过 GUI 界⾯发出指令,通过客户端的业务逻辑处理,访问服务器端的数据,对数据进行修改。只有这样才能表明当前的体系结构可以胜任功能性需求。</li>
</ol>
</li>
<li>对原型的<strong>非功能性指标</strong>进⾏估算和验证。如果出现不符合非功能性需求和项目约束的情况,我们还需要重新对体系结构设计进⾏调整。<ol>
<li>⽐如,连锁超市系统中我们⽤文件来保存数据,⽽当数据越来越多,特别是<strong>销售记录要保存 1 年</strong>。这时候,客户端跨⽹络对服务器上⽂件的查找就⽐较慢,可能会使得我们不满⾜实时性的要求。</li>
<li>这时候,可能我们就要调整体系结构中数据存储的⽅案,⽐如<strong>换成数据库</strong>。或者在客户端的逻辑层和数据层之间,加设数据映射层。<strong>在客户端运⾏初始化时,将数据从服务器端载⼊到客户端的内存中去。</strong></li>
</ol>
</li>
</ol>
<h1 id="10-体系结构集成与测试"><a href="#10-体系结构集成与测试" class="headerlink" title="10. 体系结构集成与测试"></a>10. 体系结构集成与测试</h1><h2 id="10-1-集成的策略"><a href="#10-1-集成的策略" class="headerlink" title="10.1. 集成的策略"></a>10.1. 集成的策略</h2><ol>
<li>当体系结构中原型各个模块的代码都编写完成并经过单元测试之后,需要<strong>将所有模块组合起来形成整个软件原型系统</strong>, <strong>这就是集成。</strong></li>
<li>集成的<strong>目的</strong>是为了逐步<strong>让各个模块合成为⼀个系统来⼯作,从而验证整个系统</strong>的功能、性能、可靠性等需求。</li>
<li>&#x3D;&#x3D;对于被集成起来的系统⼀般 <strong>主要是通过其暴露出来的接⼝,伪装⼀定的参数和输⼊,进⾏黑盒测试。</strong>&#x3D;&#x3D;</li>
<li>根据从模块之间集成的先后顺序,⼀般有下列⼏种常⻅的集成策略: <ol>
<li>大爆炸式(<strong>所有放在一起</strong>，看能不能过)</li>
<li>增量式<ol>
<li>自顶向下式</li>
<li>自底向上式</li>
<li>三明治式（既自顶向下，又自底向上，既要写stub，也要写driver）</li>
<li>持续集成</li>
</ol>
</li>
</ol>
</li>
<li>模块开发完成后我们进行开发集成测试用例</li>
</ol>
<h3 id="10-1-1-大爆炸集成"><a href="#10-1-1-大爆炸集成" class="headerlink" title="10.1.1. 大爆炸集成"></a>10.1.1. 大爆炸集成</h3><ol>
<li>大爆炸集成:将所有模块一次性组合在一起。</li>
<li>优点:可以在短时间内迅速完成集成</li>
<li>缺点：一次运行成功可能性不高，不容易发现bug</li>
</ol>
<h3 id="10-1-2-自顶向下集成"><a href="#10-1-2-自顶向下集成" class="headerlink" title="10.1.2. 自顶向下集成"></a>10.1.2. 自顶向下集成</h3><ol>
<li>自顶向下集成是对分层次的架构，<strong>先集成和测试上层的测模块，下层的模块用伪装的具体接口的桩程序</strong>。</li>
<li>自顶向下集成的优点: <ol>
<li>按深度优先可以<strong>⾸先实现和验证⼀个完整的功能需求;</strong></li>
<li><strong>只需顶端⼀个驱动(Driver);</strong></li>
<li>利于故障定位。</li>
<li>一般会带来比较好的顶层设计的优势。</li>
</ol>
</li>
<li>自顶向下集成的缺点:<ol>
<li><strong>stub桩的开发量大;</strong></li>
<li>底层验证被推迟,且底层组件测试不充分。</li>
</ol>
</li>
<li>自顶向下基层适用于控制结构比较清晰和稳定、<strong>高层接口变化较小、底层接口未定义或经常被修改</strong>、控制组件有具有较大的技术风险的软件系统。</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/36.png"></p>
<ol start="3">
<li>测试M1的时候，我们使用假的S7,S4来进行代替**(简单的代替这个模块)(被叫做Stub桩)**</li>
</ol>
<h3 id="10-1-3-自底向上集成"><a href="#10-1-3-自底向上集成" class="headerlink" title="10.1.3. 自底向上集成"></a>10.1.3. 自底向上集成</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/37.png"></p>
<ol>
<li>高层设计的错误不会被很快的发现。而这往往被我们认为会带来比较致命的问题</li>
<li>优点:<ol>
<li>对<strong>底层组件较早进行验证</strong></li>
<li>底层组件开发可以并行</li>
<li><strong>桩的工作量少</strong></li>
</ol>
</li>
<li>缺点:<ol>
<li><strong>驱动的开发作用量大</strong></li>
<li>对<strong>高层的设计被推迟，设计上的高层错误并不能被及时发现</strong></li>
</ol>
</li>
</ol>
<h3 id="10-1-4-持续集成"><a href="#10-1-4-持续集成" class="headerlink" title="10.1.4. 持续集成"></a>10.1.4. 持续集成</h3><ol>
<li>一种增量集成⽅法,但它提倡<strong>尽早集成和频繁集成</strong>。</li>
<li>尽早集成是指<strong>不需要总是等待⼀个模块开发完成才把它集成起来</strong>,<strong>⽽是在开发之初就利⽤ Stub 集成起来。</strong></li>
<li>频繁集成是指开发者<strong>每次完成⼀些开发任务之后</strong>,就可以<strong>⽤开发结果替换 Stub 中的相应组件,进⾏集成与测试</strong>。⼀般来说,每⼈每天⾄少集成⼀次,也可以多次。</li>
<li>结合尽早集成和频繁集成的办法,持续集成可以做到:<ol>
<li>防⽌软件开发中出现无法集成与发布的情况。<strong>因为软件项⽬在任何时刻都是可以集成和发布的。</strong></li>
<li><strong>有利于检查和发现集成缺陷。</strong>因为早的版本主要集成了<strong>简单的 Stub,⽐较容易做到没有错误</strong>。后续代码逐渐开发完成后,频繁集成⼜使得即使出现集成问题也能够尽快发现、尽快解决。</li>
</ol>
</li>
<li>持续集成的频率很⾼,所以手动的集成对软件⼯程师来说是⽆法接受的,必须利⽤版本控制⼯具和持续集成⼯具。如果程序员可以仅仅使⽤⼀条命令就完成⼀次完整的集成,开发团队才有动⼒并且能够坚持进⾏频繁的集成。 </li>
<li><strong>工具：Jenkins，maven，gitlab等</strong></li>
<li>如果你们的团队选择，白天进行代码开发，晚上进行代码测试，如果晚上你的代码出现比较严重的问题的时候，有可能会叫醒你来修改代码，以避免第二天浪费更多的时间。</li>
</ol>
<h2 id="10-2-依据模块接口建立桩程序Stub"><a href="#10-2-依据模块接口建立桩程序Stub" class="headerlink" title="10.2. 依据模块接口建立桩程序Stub"></a>10.2. 依据模块接口建立桩程序Stub</h2><ol>
<li>Stub 桩程序<ol>
<li><strong>为了完成程序的编译和连接⽽使⽤的暂时代码</strong></li>
<li>对外模拟和代替承担模块接⼝的关键类</li>
<li><strong>⽐真实程序简单的多</strong>，使⽤为<strong>简单</strong>的逻辑:比如简单的替代DAO层。</li>
</ol>
</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/39.png"></p>
<p>**Stub:**用于测试上层，如用于测试上层可以写简单的DAO层，不需要与数据库交互，直接返回我们设定好的数据</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/40.png"></p>
<p>**Driver:**用于测试下层，比如用于测试DAO层时，我们会编写一些service和control，仅仅用于测试这个DAO是不是正确</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/41.png"></p>
<h2 id="10-3-集成与构建"><a href="#10-3-集成与构建" class="headerlink" title="10.3. 集成与构建"></a>10.3. 集成与构建</h2><ol>
<li>集成<ol>
<li>使⽤桩程序辅助集成</li>
<li>编译与链接</li>
</ol>
</li>
<li>持续集成<ol>
<li>逐步编写各个模块内部程序，替换相应的<strong>桩程序</strong>【在桩被替换后不一定要立刻删掉，可以注释保留】</li>
<li>真实程序不仅实现业务逻辑，⽽且会使⽤其他模块的接⼝程序(真实程序或者桩程序)</li>
<li>每次替换之后都进⾏集成与测试</li>
</ol>
</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/42.png"></p>
<h2 id="10-4-项目实践"><a href="#10-4-项目实践" class="headerlink" title="10.4. 项目实践"></a>10.4. 项目实践</h2><ol>
<li>客户端<ol>
<li>View层：HCI特殊测试，需要模拟logic的stub</li>
<li>Logical层：<ol>
<li>驱动模拟来⾃View层的请求</li>
<li>桩程序模拟远程Data</li>
<li>需要模拟同层调用的driver和stub</li>
</ol>
</li>
</ol>
</li>
<li>服务器端(Data层)<ol>
<li>驱动模拟来⾃客户端的请求</li>
<li>桩程序模拟未完成的Data模块接⼝</li>
</ol>
</li>
</ol>
<h1 id="11-体系结构文档化"><a href="#11-体系结构文档化" class="headerlink" title="11. 体系结构文档化"></a>11. 体系结构文档化</h1><h2 id="11-1-体系结构设计文档模版-IEEE1471-2000"><a href="#11-1-体系结构设计文档模版-IEEE1471-2000" class="headerlink" title="11.1. 体系结构设计文档模版 IEEE1471-2000"></a>11.1. 体系结构设计文档模版 IEEE1471-2000</h2><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Software-Engineering-and-Computing-II/img/cpt10/43.png"></p>
<h1 id="12-体系结构评审"><a href="#12-体系结构评审" class="headerlink" title="12. 体系结构评审"></a>12. 体系结构评审</h1><h2 id="12-1-评审的角度"><a href="#12-1-评审的角度" class="headerlink" title="12.1. 评审的角度"></a>12.1. 评审的角度</h2><ol>
<li>设计⽅案正确性、先进性、可行性;</li>
<li>系统组成、系统要求及接⼝协调的合理性;</li>
<li>对于功能模块的输⼊参数、输出参数的定义是否明确;</li>
<li>系统性能、可靠性、安全性要求是否合理;</li>
<li>⽂档的描述是否清晰、明确。</li>
</ol>
<h2 id="12-2-体系结构评审的方法"><a href="#12-2-体系结构评审的方法" class="headerlink" title="12.2. 体系结构评审的方法"></a>12.2. 体系结构评审的方法</h2><ol>
<li><strong>对结果的评审</strong>：Checklist(动态更新的)</li>
<li><strong>对设计决策的评审</strong>：如果无法对结果进行评审，那么就对原因进行评审，<strong>如果产出这个东西的原因是合理的，那么结果就认为是合理的</strong></li>
</ol>
<h2 id="12-3-软件体系结构设计文档的Checklist"><a href="#12-3-软件体系结构设计文档的Checklist" class="headerlink" title="12.3. 软件体系结构设计文档的Checklist"></a>12.3. 软件体系结构设计文档的Checklist</h2><ol>
<li>体系结构设计是否为后续开发提供了⼀个足够的视角? </li>
<li>是否所有的功能都被分配给了具体模块? </li>
<li>是否所有的⾮功能属性都得到了满⾜? </li>
<li>是否所有的项⽬约束都得到了满⾜? </li>
<li>体系结构设计是否为后继设计提供了简洁的概述、背景信息、限制条件和清晰的组织结构? </li>
<li>体系结构设计是否能应对<strong>可能发⽣的变更</strong>? [比如为了10万用户的设计体系结构设计能够实际支持20万的用户量]</li>
<li>体系结构设计是否关注点在详细设计和⽤户接⼝的层次之上? </li>
<li>不同的体系结构设计视⻆的依赖是否⼀致? [当系统比较复杂时，容易忽略]</li>
<li>系统环境是否定义,包括硬件、软件、和外部系统?</li>
</ol>

        
      </div>

         
    </div>
    
     
  </div>
  
    
<nav id="article-nav">
  <a class="article-nav-btn left "
    
      href="/2022/06/17/SE-II%E7%AC%94%E8%AE%B0/09-%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/"
      title="SE-II-ch09-软件体系结构基础"
     >
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
      
        SE-II-ch09-软件体系结构基础
        
    </p>
  </a>
  <a class="article-nav-btn right "
    
      href="/2022/06/16/SE-II%E7%AC%94%E8%AE%B0/01-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/"
      title="SE-II-ch01-软件工程基础"
     >

    <p class="title-text">
      
        SE-II-ch01-软件工程基础
        
    </p>
    <i class="fa-solid fa-angle-right"></i>
  </a>
</nav>


  
</article>


  
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <div id="comment-card" class="comment-card">
    <div class="main-title-bar">
      <div class="main-title-dot"></div>
      <div class="main-title">留言 </div>
    </div>
    <div id="vcomments"></div>
  </div>
  <script>
      new Valine({"enable":true,"appId":null,"appKey":null,"placeholder":"Just go go","pageSize":20,"highlight":true,"serverURLs":null,"el":"#vcomments"});
  </script>
 
    </div>
    <div id="footer-wrapper">
      <footer id="footer">
  
  <div id="footer-info" class="inner">
    
      <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris"></a>
    
    &copy; 2023 Asimov<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
